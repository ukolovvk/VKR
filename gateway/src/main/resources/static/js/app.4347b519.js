(function(){"use strict";var e={6173:function(e,t,a){var n=a(5130),r=a(6768);const o={id:"app"};function s(e,t,a,n,s,l){const i=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(i)])}var l={name:"App"},i=a(1241);const d=(0,i.A)(l,[["render",s]]);var c=d,u=a(1387);const p={class:"login-container d-flex justify-content-center align-items-center min-vh-100"},f={class:"card p-4 shadow-lg",style:{width:"300px","background-color":"#1c1c1c",color:"#f5f5f5"}},m={class:"mb-3"},h={class:"mb-3"},b={class:"text-center mt-3"};function k(e,t,a,o,s,l){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",p,[(0,r.Lk)("div",f,[t[9]||(t[9]=(0,r.Lk)("h3",{class:"text-center mb-4"},"Login",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...e)=>l.login&&l.login(...e)),["prevent"])),class:"needs-validation",novalidate:""},[(0,r.Lk)("div",m,[t[3]||(t[3]=(0,r.Lk)("label",{for:"username",class:"form-label"},"Username:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),class:"form-control bg-dark text-light",id:"username",required:""},null,512),[[n.Jo,s.username]]),t[4]||(t[4]=(0,r.Lk)("div",{class:"invalid-feedback"}," Please enter your username. ",-1))]),(0,r.Lk)("div",h,[t[5]||(t[5]=(0,r.Lk)("label",{for:"password",class:"form-label"},"Password:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),class:"form-control bg-dark text-light",id:"password",required:""},null,512),[[n.Jo,s.password]]),t[6]||(t[6]=(0,r.Lk)("div",{class:"invalid-feedback"}," Please enter your password. ",-1))]),t[7]||(t[7]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Login",-1))],32),(0,r.Lk)("p",b,[(0,r.bF)(i,{to:"/register",class:"text-light"},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)("Register here")]))),_:1})])])])}a(4114);var v={data(){return{username:"",password:""}},methods:{async login(){try{const e=await fetch("http://localhost:7080/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password}),credentials:"include"});e.ok?this.$router.push("/upload"):alert("Login failed!")}catch(e){console.error("Error during login:",e)}}}};const g=(0,i.A)(v,[["render",k]]);var L=g;const y={class:"register-container d-flex justify-content-center align-items-center min-vh-100"},w={class:"card p-4 shadow-lg",style:{width:"300px","background-color":"#1c1c1c",color:"#f5f5f5"}},x={class:"mb-3"},A={class:"mb-3"},F={class:"mb-3"},E={class:"text-center mt-3"};function O(e,t,a,o,s,l){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",y,[(0,r.Lk)("div",w,[t[12]||(t[12]=(0,r.Lk)("h3",{class:"text-center mb-4"},"Register",-1)),(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...e)=>l.register&&l.register(...e)),["prevent"])),class:"needs-validation",novalidate:""},[(0,r.Lk)("div",x,[t[4]||(t[4]=(0,r.Lk)("label",{for:"username",class:"form-label"},"Username:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),class:"form-control bg-dark text-light",id:"username",required:""},null,512),[[n.Jo,s.username]]),t[5]||(t[5]=(0,r.Lk)("div",{class:"invalid-feedback"}," Please enter a username. ",-1))]),(0,r.Lk)("div",A,[t[6]||(t[6]=(0,r.Lk)("label",{for:"password",class:"form-label"},"Password:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),class:"form-control bg-dark text-light",id:"password",required:""},null,512),[[n.Jo,s.password]]),t[7]||(t[7]=(0,r.Lk)("div",{class:"invalid-feedback"}," Please enter a password. ",-1))]),(0,r.Lk)("div",F,[t[8]||(t[8]=(0,r.Lk)("label",{for:"email",class:"form-label"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>s.email=e),class:"form-control bg-dark text-light",id:"email",required:""},null,512),[[n.Jo,s.email]]),t[9]||(t[9]=(0,r.Lk)("div",{class:"invalid-feedback"}," Please enter a valid email address. ",-1))]),t[10]||(t[10]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Register",-1))],32),(0,r.Lk)("p",E,[(0,r.bF)(i,{to:"/login",class:"text-light"},{default:(0,r.k6)((()=>t[11]||(t[11]=[(0,r.eW)("Back to login")]))),_:1})])])])}var _={data(){return{username:"",password:"",email:""}},methods:{async register(){try{const e=await fetch("http://localhost:7080/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password,email:this.email})});e.ok?(alert("Registration successful!"),this.$router.push("/login")):alert("Registration failed!")}catch(e){console.error("Error during registration:",e)}}}};const C=(0,i.A)(_,[["render",O]]);var P=C,j=a(4232);const U={class:"container-fluid p-0 vh-100 d-flex flex-column bg-black"},N={class:"navbar navbar-expand-lg navbar-dark bg-dark"},S={class:"container-fluid d-flex align-items-center"},I={class:"d-flex align-items-center ms-auto"},T={class:"app-title me-3"},$={class:"d-flex justify-content-center align-items-center flex-grow-1"},J={class:"mb-3"};function M(e,t,a,o,s,l){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",U,[(0,r.Lk)("nav",N,[(0,r.Lk)("div",S,[t[4]||(t[4]=(0,r.Lk)("span",{class:"navbar-brand app-title"},"AudioAnalyzer",-1)),t[5]||(t[5]=(0,r.Lk)("span",{class:"separator"},null,-1)),(0,r.bF)(i,{class:"navbar-brand",to:"/history"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("My Audios")]))),_:1}),(0,r.Lk)("div",I,[(0,r.Lk)("span",T,(0,j.v_)(s.userName),1),(0,r.Lk)("button",{class:"btn btn-outline-danger",type:"button",onClick:t[0]||(t[0]=(...e)=>l.logout&&l.logout(...e))},"Logout")])])]),(0,r.Lk)("div",$,[(0,r.Lk)("form",{class:"text-center p-4 rounded bg-dark",onSubmit:t[2]||(t[2]=(0,n.D$)(((...e)=>l.uploadAudio&&l.uploadAudio(...e)),["prevent"])),style:{"max-width":"500px",width:"100%",color:"#fff"}},[t[6]||(t[6]=(0,r.Lk)("h3",{class:"mb-3 text-white"},[(0,r.eW)("Select "),(0,r.Lk)("span",null,"Audio")],-1)),(0,r.Lk)("div",J,[(0,r.Lk)("input",{class:"form-control",type:"file",id:"formFile",onChange:t[1]||(t[1]=(...e)=>l.handleFileUpload&&l.handleFileUpload(...e)),ref:"fileInput"},null,544)]),t[7]||(t[7]=(0,r.Lk)("button",{type:"submit",class:"btn",style:{"background-color":"#ff8c00"}},"Upload",-1))],32)])])}var X=a(8704),z={name:"AppMain",data(){return{userName:"",selectedFile:null}},mounted(){this.userName=X.A.get("username")||"unknown"},methods:{logout(){X.A.remove("token"),window.location.href="/login"},handleFileUpload(e){const t=e.target.files[0];if(t){if(console.log("File selected:",t.name),t.size>10485760)return alert("File is too large. Maximum size is 10MB."),void(this.$refs.fileInput.value="");const e=["mp3","wav","mp4"],a=t.name.split(".").pop().toLowerCase();if(!e.includes(a))return alert("Invalid file type. Only MP3, WAV, and MP4 files are allowed."),void(this.$refs.fileInput.value="");this.selectedFile=t}},uploadAudio(){if(!this.selectedFile)return void alert("Please select a file first.");const e=new FormData;e.append("file",this.selectedFile),e.append("username",this.userName),fetch("http://localhost:7080/audio/upload",{method:"POST",body:e}).then((e=>{if(!e.ok)throw new Error("Failed to upload file");return e.json()})).then((e=>{console.log("Success:",e),alert("File uploaded successfully. The report will be generated.")})).catch((e=>{console.error("Error:",e),alert("Error uploading file")}))}}};const R=(0,i.A)(z,[["render",M],["__scopeId","data-v-f8caafb6"]]);var V=R;const W={class:"container-fluid p-0 vh-100 d-flex flex-column bg-black"},q={class:"navbar navbar-expand-lg navbar-dark bg-dark"},D={class:"container-fluid d-flex align-items-center"},H={class:"d-flex align-items-center ms-auto"},B={class:"app-title me-3"},K={class:"d-flex justify-content-center align-items-center flex-grow-1"},G={class:"text-center p-4 rounded bg-dark",style:{"max-width":"800px",width:"100%",color:"#fff"}},Q={class:"table table-dark table-striped"};function Y(e,t,a,n,o,s){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",W,[(0,r.Lk)("nav",q,[(0,r.Lk)("div",D,[t[2]||(t[2]=(0,r.Lk)("span",{class:"navbar-brand app-title"},"AudioAnalyzer",-1)),t[3]||(t[3]=(0,r.Lk)("span",{class:"separator"},null,-1)),(0,r.bF)(l,{class:"navbar-brand",to:"/upload"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)("Upload")]))),_:1}),(0,r.Lk)("div",H,[(0,r.Lk)("span",B,(0,j.v_)(o.userName),1),(0,r.Lk)("button",{class:"btn btn-outline-danger",type:"button",onClick:t[0]||(t[0]=(...e)=>s.logout&&s.logout(...e))},"Logout")])])]),(0,r.Lk)("div",K,[(0,r.Lk)("div",G,[t[5]||(t[5]=(0,r.Lk)("h3",{class:"mb-3 text-white"},"Audio History",-1)),(0,r.Lk)("table",Q,[t[4]||(t[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Name"),(0,r.Lk)("th",null,"Size"),(0,r.Lk)("th",null,"Description")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.audios,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,j.v_)(e.name),1),(0,r.Lk)("td",null,(0,j.v_)(e.size),1),(0,r.Lk)("td",null,(0,j.v_)(e.description),1)])))),128))])])])])])}var Z={name:"AudioHistory",data(){return{audios:{},userName:""}},mounted(){this.userName=X.A.get("username")||"unknown",this.fetchAudioHistory()},methods:{fetchAudioHistory(){const e=`http://localhost:7080/audio/history?username=${encodeURIComponent(this.userName)}`;fetch(e).then((e=>e.json())).then((e=>{this.audios=e})).catch((e=>{console.error("Error fetching audio history:",e)}))},logout(){X.A.remove("token"),window.location.href="/login"}}};const ee=(0,i.A)(Z,[["render",Y],["__scopeId","data-v-f0fbe25c"]]);var te=ee;const ae=[{path:"/login",component:L},{path:"/register",component:P},{path:"/upload",component:V},{path:"/history",component:te},{path:"/",redirect:"/login"}],ne=(0,u.aE)({history:(0,u.LA)(),routes:ae});var re=ne;(0,n.Ef)(c).use(re).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],o=e[c][2];for(var l=!0,i=0;i<n.length;i++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(l=!1,o<s&&(s=o));if(l){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,s=n[0],l=n[1],i=n[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(i)var c=i(a)}for(t&&t(n);d<s.length;d++)o=s[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},n=self["webpackChunkaudio_app"]=self["webpackChunkaudio_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(6173)}));n=a.O(n)})();
//# sourceMappingURL=app.4347b519.js.map